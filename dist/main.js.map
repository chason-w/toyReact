{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./ToyReact.js","webpack:///./main.js"],"names":["childrenSymbol","Symbol","ElementWrapper","type","props","Object","create","children","name","value","vchild","push","vdom","range","placeholder","document","createComment","endRange","createRange","setStart","endContainer","endOffset","setEnd","insertNode","deleteContents","element","createElement","match","eventName","RegExp","$1","replace","s","toLowerCase","addEventListener","setAttribute","child","length","setStartAfter","lastChild","setEndAfter","mountTo","TextWrapper","content","root","createTextNode","Component","update","oldvdom","isSameNode","node1","node2","data","keys","JSON","stringify","isSameTree","i","newTree","oldTree","console","log","state","merge","oldState","newState","p","Array","parse","diff","constructor","render","ToyReact","attributes","insertChildren","isArray","appendChild","Square","onClick","Board","squares","renderSquare","Game","history","fill","stepNumber","xIsNext","slice","current","calculateWinner","setState","concat","step","winner","moves","map","move","desc","jumpTo","status","handleClick","body","lines","a","b","c"],"mappings":"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","file":"main.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = \"./main.js\");\n","/*\n * @Author: your name\n * @Date: 2020-07-20 20:42:56\n * @LastEditTime: 2020-07-23 01:27:17\n * @LastEditors: Please set LastEditors\n * @Description: In User Settings Edit\n * @FilePath: /toy-react/ToyReact.js\n */ \nlet childrenSymbol = Symbol(\"children\");\nclass ElementWrapper {\n    constructor(type) {\n        this.type = type;\n        this.props = Object.create(null);\n        this[childrenSymbol] = [];\n        this.children = [];\n        // this.root = document.createElement(type);\n    }\n    setAttribute(name, value) {\n        /*\n        if(name.match(/^on([\\s\\S]+)$/)) {\n            // eventName首字母小写\n            let eventName = RegExp.$1.replace(/^[\\s\\S]/, s=>s.toLowerCase());\n            // 事件监听器\n            this.root.addEventListener(eventName, value);\n        }\n        // react类字段 -> html类字段\n        if(name === 'className')\n            name = 'class';\n        this.root.setAttribute(name, value);\n        */\n        this.props[name] = value;\n    }\n    //get children() {\n    //    return this[childrenSymbol].map(child => child.vdom)\n    //}\n    appendChild(vchild) {\n        /*let range = document.createRange();\n        if (this.root.children.length) {\n            range.setStartAfter(this.root.lastChild)\n            range.setEndAfter(this.root.lastChild)\n        } else {\n            range.setStart(this.root, 0);\n            range.setEnd(this.root, 0);\n        }\n        vchild.mountTo(range);*/\n        // this.children.push(vchild);\n        this[childrenSymbol].push(vchild)\n        this.children.push(vchild.vdom)\n    }\n    get vdom() {\n        /* return {\n            type: this.type,\n            props: this.props,\n            children: this.children.map(child => child.vdom)\n        } */\n        return this\n    }\n    mountTo(range) {\n        this.range = range;\n        let placeholder = document.createComment('placeHolder');\n        let endRange = document.createRange();\n        endRange.setStart(range.endContainer, range.endOffset);\n        endRange.setEnd(range.endContainer, range.endOffset);\n        endRange.insertNode(placeholder)\n        /*\n        this.range.deleteContents();\n        */\n\n        range.deleteContents();\n        let element = document.createElement(this.type);\n\n        for(let name in this.props) {\n            let value = this.props[name];\n            if(name.match(/^on([\\s\\S]+)$/)) {\n                // eventName首字母小写\n                let eventName = RegExp.$1.replace(/^[\\s\\S]/, s=>s.toLowerCase());\n                // 事件监听器\n                element.addEventListener(eventName, value);\n            }\n            // react类字段 -> html类字段\n            if(name === 'className')\n                element.setAttribute('class', value);\n            element.setAttribute(name, value);\n        }\n        for(let child of this.children) {\n            let range = document.createRange()\n            if (element.children.length) {\n                range.setStartAfter(element.lastChild)\n                range.setEndAfter(element.lastChild)\n            } else {\n                range.setStart(element, 0);\n                range.setEnd(element, 0);\n            }\n            child.mountTo(range);\n        }\n        range.insertNode(element);\n    }\n}\nclass TextWrapper {\n    constructor(content) {\n        this.root = document.createTextNode(content);\n        this.type = '#text';\n        this.children = [];\n        this.props = Object.create(null)\n    }\n    mountTo(range) {\n        this.range = range;\n        range.deleteContents();\n        this.range.insertNode(this.root);\n        // parent.appendChild(this.root);\n    }\n    get vdom() {\n        return this\n        /* {\n            type: '#text',\n            props: this.props,\n            children: []\n        } */\n    }\n}\nexport class Component {\n    constructor(){\n        this.children = [];\n        this.props = Object.create(null)\n    }\n    get type() {\n        return this.constructor.type;\n    }\n    setAttribute(name, value) {\n        /*if(name.match(/^on([\\s\\S]+)$/)) {\n            console.log(RegExp.$1);\n        }*/\n        if (name === 'className'){\n            name = 'class'\n        }\n        this.props[name] = value;\n        this[name] = value\n    }\n    mountTo(range) {\n        // range.deleteContents();\n        this.range = range;\n        this.update();\n    }\n    update(){\n        /*\n        let placeholder = document.createComment('placeHolder');\n        let range = document.createRange();\n        range.setStart(this.range.endContainer, this.range.endOffset);\n        range.setEnd(this.range.endContainer, this.range.endOffset);\n        range.insertNode(placeholder)\n        this.range.deleteContents();\n        */\n        // let vdom = this.render();\n        let vdom = this.vdom;\n        if(this.oldvdom) {\n            // update vdom\n            let isSameNode = (node1, node2) => {\n                if (node1.type !== node2.type)\n                    return false\n                if (node1.type === '#text') {\n                    if (node1.root.data !== node2.root.data)\n                        return false\n                }\n                if(Object.keys(node1.props).length !== Object.keys(node2.props).length)\n                    return false;\n                for(let name in node1.props) {\n                    /* if (typeof node1.props[name] === 'fucntion' &&\n                            typeof node2.props[name] === 'fucntion' &&\n                            node1.props[name].toString() === node2.props[name].toString())\n                        continue */\n                    if (typeof node1.props[name] === 'object' &&\n                        typeof node2.props[name] === 'object' &&\n                        JSON.stringify(node1.props[name]) === JSON.stringify(node2.props[name]))\n                        continue\n                    if(node1.props[name] !== node2.props[name])\n                        return false;\n                }\n                return true\n            }\n            let isSameTree = (node1, node2) => {\n                if(!isSameNode(node1, node2))\n                    return false;\n                if(node1.children.length !== node2.children.length)\n                    return false;\n                for (let i = 0; i< node1.children.length; i ++)\n                    if(!isSameTree(node1.children[i], node2.children[i]))\n                        return false;\n                return true;\n            }\n            let replace = (newTree, oldTree) => {\n                if(isSameTree(newTree, oldTree)) {\n                    console.log('all the same')\n                    return\n                }\n                if(!isSameNode(newTree, oldTree)) {\n                    console.log('not same node')\n                    newTree.mountTo(oldTree.range);\n                } else {\n                    console.log('children not same')\n                    if (newTree.children.length === oldTree.children.length) {\n                        for(let i = 0; i < newTree.children.length; i++) {\n                            replace(newTree.children[i], oldTree.children[i]);\n                        }\n                    } else {\n                        newTree.mountTo(oldTree.range)\n                    }\n                }\n            }\n            replace(vdom, this.oldvdom);\n            // console.log('new: ', vdom);\n            // console.log('old: ', this.vdom);\n        } else {\n            vdom.mountTo(this.range);\n        }\n        this.oldvdom = vdom;\n    }\n    get vdom() {\n        return this.render().vdom;\n    }\n    appendChild(vchild) {\n        this.children.push(vchild)\n    }\n    setState(state) {\n        if (typeof state === 'undefined')\n            return void 0\n        let merge = (oldState, newState) => {\n            for(let p in newState) {\n                if (typeof newState[p] === 'object' && newState[p] !== null) {\n                    if (typeof oldState[p] !== 'objcet') {\n                        if (newState[p] instanceof Array)\n                            oldState[p] = []\n                        else\n                            oldState[p] = {};\n                    }\n                    merge(oldState[p], newState[p]);\n                } else {\n                    oldState[p] = newState[p];\n                }\n            }\n            return oldState\n        }\n        if (!this.state)\n            this.state = {};\n        let oldState = JSON.parse(JSON.stringify(this.state))\n        let newState = merge(this.state, state)\n        const diff = (oldState, newState) => {\n            return JSON.stringify(oldState) !== JSON.stringify(newState)\n        }\n        if(diff(oldState, newState)) {\n            this.update()\n        }\n    }\n}\nexport let ToyReact = {\n    createElement(type, attributes, ...children) {\n        let element;\n        if(typeof type === 'string')\n            element = new ElementWrapper(type);\n        else\n            element = new type;\n        for (let name in attributes) {\n            element.setAttribute(name, attributes[name]);\n        }\n        let insertChildren = (children) => {\n            for (let child of children) {\n                if(Array.isArray(child)){\n                    insertChildren(child)\n                } else {\n                    if (child === null || child === void 0)\n                        child = '';\n                    if (!(child instanceof Component)\n                        && !(child instanceof ElementWrapper)\n                        && !(child instanceof TextWrapper))\n                        child = child + '';\n                    if (typeof child === 'string') \n                        child = new TextWrapper(child)\n                    element.appendChild(child);\n                }\n            }\n        }\n        insertChildren(children)\n        return element;\n    },\n    render(vdom, element) {\n        /* mount to dom element\n            :param vdom \n        */\n        let range = document.createRange();\n        if (element.children.length) {\n            range.setStartAfter(element.lastChild)\n            range.setEndAfter(element.lastChild)\n        } else {\n            range.setStart(element, 0);\n            range.setEnd(element, 0);\n        }\n        vdom.mountTo(range)\n    }\n}\n","/*\n * @Author: your name\n * @Date: 2020-07-20 20:25:17\n * @LastEditTime: 2020-07-23 00:15:38\n * @LastEditors: Please set LastEditors\n * @Description: In User Settings Edit\n * @FilePath: /toy-react/main.js\n */ \n// require('./lib.js')\nimport  {ToyReact, Component} from \"./ToyReact\"\nclass Square extends Component {\n  render() {\n    return (\n      <button className=\"square\" onClick={this.props.onClick}>\n        {this.props.value}\n      </button>\n    );\n  };\n}\n\nclass Board extends Component {\n  renderSquare(i) {\n    return (\n      <Square\n        value={this.props.squares[i]}\n        onClick={() => this.props.onClick(i)}\n      />\n    );\n  }\n\n  render() {\n    return (\n      <div>\n        <div className=\"board-row\">\n          {this.renderSquare(0)}\n          {this.renderSquare(1)}\n          {this.renderSquare(2)}\n        </div>\n        <div className=\"board-row\">\n          {this.renderSquare(3)}\n          {this.renderSquare(4)}\n          {this.renderSquare(5)}\n        </div>\n        <div className=\"board-row\">\n          {this.renderSquare(6)}\n          {this.renderSquare(7)}\n          {this.renderSquare(8)}\n        </div>\n      </div>\n    );\n  }\n}\n  \n  class Game extends Component {\n    constructor(props) {\n      super(props);\n      this.state = {\n        history: [\n          {\n            squares: Array(9).fill(null)\n          }\n        ],\n        stepNumber: 0,\n        xIsNext: true\n      };\n    }\n  \n    handleClick(i) {\n      const history = this.state.history.slice(0, this.state.stepNumber + 1);\n      const current = history[history.length - 1];\n      const squares = current.squares.slice();\n      if (calculateWinner(squares) || squares[i]) {\n        return;\n      }\n      squares[i] = this.state.xIsNext ? \"X\" : \"O\";\n      this.setState({\n        history: history.concat([\n          {\n            squares: squares\n          }\n        ]),\n        stepNumber: history.length,\n        xIsNext: !this.state.xIsNext\n      });\n    }\n  \n    jumpTo(step) {\n      this.setState({\n        stepNumber: step,\n        xIsNext: (step % 2) === 0\n      });\n    }\n  \n    render() {\n      const history = this.state.history;\n      const current = history[this.state.stepNumber];\n      const winner = calculateWinner(current.squares);\n  \n      const moves = history.map((step, move) => {\n        const desc = move ?\n          'Go to move #' + move :\n          'Go to game start';\n        return (\n          <li key={move}>\n            <button onClick={() => this.jumpTo(move)}>{desc}</button>\n          </li>\n        );\n      });\n  \n      let status;\n      if (winner) {\n        status = \"Winner: \" + winner;\n      } else {\n        status = \"Next player: \" + (this.state.xIsNext ? \"X\" : \"O\");\n      }\n  \n      return (\n        <div className=\"game\">\n          <div className=\"game-board\">\n            <Board\n              squares={current.squares}\n              onClick={i => this.handleClick(i)}\n            />\n          </div>\n          <div className=\"game-info\">\n            <div>{status}</div>\n            <ol>{moves}</ol>\n          </div>\n        </div>\n      );\n    }\n  }\n  \n// ========================================\n\nToyReact.render(<Game />, document.body);\n//let game = <Game />\n//console.log(game.vdom);\n\nfunction calculateWinner(squares) {\n  const lines = [\n    [0, 1, 2],\n    [3, 4, 5],\n    [6, 7, 8],\n    [0, 3, 6],\n    [1, 4, 7],\n    [2, 5, 8],\n    [0, 4, 8],\n    [2, 4, 6]\n  ];\n  for (let i = 0; i < lines.length; i++) {\n    const [a, b, c] = lines[i];\n    if (squares[a] && squares[a] === squares[b] && squares[a] === squares[c]) {\n      return squares[a];\n    }\n  }\n  return null;\n}\n  \n/*\nclass MyComponent {\n}\nlet a = <MyComponent name='a'/>\nclass Square extends Component {\n    //constructor(props) {\n    //    super(props);\n    //构造函数, 初始化state属性\n    constructor() {\n        super();\n        this.state = {\n            value: null,\n        };\n    }\n    render() {\n        return (\n            <button className=\"square\" onClick={() => this.setState({value: 'X'})}>\n                <span>\n                    {this.state.value ? this.state.value : ''}\n                </span>\n            </button>\n        );\n    }\n}\nclass Board extends Component {\n    renderSquare(i) {\n        return <Square value={i} />;\n    };\n    render() {\n        return (\n            <div>\n            <div className=\"board-row\">\n              {this.renderSquare(0)}\n              {this.renderSquare(1)}\n              {this.renderSquare(2)}\n            </div>\n            <div className=\"board-row\">\n              {this.renderSquare(3)}\n              {this.renderSquare(4)}\n              {this.renderSquare(5)}\n            </div>\n            <div className=\"board-row\">\n              {this.renderSquare(6)}\n              {this.renderSquare(7)}\n              {this.renderSquare(8)}\n            </div>\n          </div>\n        );\n      }\n}\n/*\nclass MyComponent extends Component{\n    render() {\n        return <div>\n            <span>hello</span>\n            <span>world!</span>\n            <div>\n                {true}\n                {this.children}\n            </div>\n        </div>\n    }\n}\nlet a = <div name='a' id='ida'>\n    <span>Hello</span>\n    <span>World</span>\n    <span>!</span>\n    <span></span>\n    </div>\nlet a = <MyComponent name='a' id='ida'>\n    <div>123</div>\n    <div>456</div>\n</MyComponent>\nlet a = <Board/>\nToyReact.render(a, document.body)\n// console.log('main')\n// document.body.appendChild(a);\n*/"],"sourceRoot":""}